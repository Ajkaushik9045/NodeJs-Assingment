{
  "info": {
    "name": "School Management API",
    "description": "Complete API collection for School Management System with proximity-based sorting",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/health",
          "host": ["{{baseUrl}}"],
          "path": ["health"]
        },
        "description": "Check if the API is running and healthy"
      },
      "response": []
    },
    {
      "name": "Add School",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Example School\",\n  \"address\": \"123 Main Street, City, State 12345\",\n  \"latitude\": 40.7128,\n  \"longitude\": -74.0060\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/api/addSchool",
          "host": ["{{baseUrl}}"],
          "path": ["api", "addSchool"]
        },
        "description": "Add a new school to the database with name, address, and coordinates"
      },
      "response": []
    },
    {
      "name": "Add Another School",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Downtown Academy\",\n  \"address\": \"456 Oak Avenue, Downtown, State 12345\",\n  \"latitude\": 40.7589,\n  \"longitude\": -73.9851\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/api/addSchool",
          "host": ["{{baseUrl}}"],
          "path": ["api", "addSchool"]
        },
        "description": "Add another school for testing proximity sorting"
      },
      "response": []
    },
    {
      "name": "Add Third School",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Suburban High School\",\n  \"address\": \"789 Pine Street, Suburb, State 12345\",\n  \"latitude\": 40.7505,\n  \"longitude\": -73.9934\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/api/addSchool",
          "host": ["{{baseUrl}}"],
          "path": ["api", "addSchool"]
        },
        "description": "Add a third school for comprehensive testing"
      },
      "response": []
    },
    {
      "name": "List Schools by Proximity",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/listSchools?latitude=40.7128&longitude=-74.0060",
          "host": ["{{baseUrl}}"],
          "path": ["api", "listSchools"],
          "query": [
            {
              "key": "latitude",
              "value": "40.7128",
              "description": "User's latitude coordinate"
            },
            {
              "key": "longitude",
              "value": "-74.0060",
              "description": "User's longitude coordinate"
            }
          ]
        },
        "description": "Get schools sorted by proximity to the specified user location"
      },
      "response": []
    },
    {
      "name": "List Schools by Proximity (Different Location)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/listSchools?latitude=40.7589&longitude=-73.9851",
          "host": ["{{baseUrl}}"],
          "path": ["api", "listSchools"],
          "query": [
            {
              "key": "latitude",
              "value": "40.7589",
              "description": "User's latitude coordinate (Downtown area)"
            },
            {
              "key": "longitude",
              "value": "-73.9851",
              "description": "User's longitude coordinate (Downtown area)"
            }
          ]
        },
        "description": "Test proximity sorting from a different user location"
      },
      "response": []
    },
    {
      "name": "Get All Schools",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/schools",
          "host": ["{{baseUrl}}"],
          "path": ["api", "schools"]
        },
        "description": "Retrieve all schools in alphabetical order"
      },
      "response": []
    },
    {
      "name": "Get School by ID",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/schools/1",
          "host": ["{{baseUrl}}"],
          "path": ["api", "schools", "1"]
        },
        "description": "Retrieve a specific school by its ID"
      },
      "response": []
    },
    {
      "name": "Update School",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Updated Example School\",\n  \"address\": \"123 Main Street, Updated City, State 12345\",\n  \"latitude\": 40.7128,\n  \"longitude\": -74.0060\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/api/schools/1",
          "host": ["{{baseUrl}}"],
          "path": ["api", "schools", "1"]
        },
        "description": "Update an existing school's information"
      },
      "response": []
    },
    {
      "name": "Delete School",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/schools/3",
          "host": ["{{baseUrl}}"],
          "path": ["api", "schools", "3"]
        },
        "description": "Remove a school from the database"
      },
      "response": []
    },
    {
      "name": "Test Validation - Missing Fields",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Invalid School\",\n  \"address\": \"Missing coordinates\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/api/addSchool",
          "host": ["{{baseUrl}}"],
          "path": ["api", "addSchool"]
        },
        "description": "Test validation by sending incomplete data"
      },
      "response": []
    },
    {
      "name": "Test Validation - Invalid Coordinates",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Invalid Coordinates School\",\n  \"address\": \"Invalid location\",\n  \"latitude\": 200,\n  \"longitude\": 300\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{baseUrl}}/api/addSchool",
          "host": ["{{baseUrl}}"],
          "path": ["api", "addSchool"]
        },
        "description": "Test validation with invalid latitude/longitude values"
      },
      "response": []
    },
    {
      "name": "Test Validation - Invalid Query Parameters",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/listSchools?latitude=invalid&longitude=invalid",
          "host": ["{{baseUrl}}"],
          "path": ["api", "listSchools"],
          "query": [
            {
              "key": "latitude",
              "value": "invalid",
              "description": "Invalid latitude value"
            },
            {
              "key": "longitude",
              "value": "invalid",
              "description": "Invalid longitude value"
            }
          ]
        },
        "description": "Test validation with invalid query parameters"
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Pre-request script to set dynamic values if needed",
          "console.log('Making request to:', pm.request.url);"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Test script to validate responses",
          "pm.test('Status code is 200 or 201', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
          "});",
          "",
          "pm.test('Response has required fields', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('status');",
          "    pm.expect(jsonData).to.have.property('message');",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "description": "Base URL for the API (change for production)"
    }
  ]
}

